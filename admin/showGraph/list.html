<!doctype html>
	<html lang="ko">
	<head>
		<meta http-equiv="X-UA-Compatible" content="IE=edge" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, target-densitydpi=device-dpi" />
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />

		<!-- Custom fonts for this template-->
		<link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.10.2/css/all.min.css"/>
		<link href="https://fonts.googleapis.com/css?family=Nunito:200,200i,300,300i,400,400i,600,600i,700,700i,800,800i,900,900i" rel="stylesheet">

		<!-- Custom styles for this template-->

		<!--관리자페이지 css-->
		<link href="../css/reset.css?v=1" rel="stylesheet">
		<link href="../css/style.css?v=2" rel="stylesheet">
		<link href="../css/style02.css?v=1" rel="stylesheet">
		
		<link rel="stylesheet" href="https://cdn.linearicons.com/free/1.0.0/icon-font.min.css">

		<!-- jquery-->
		<script src="../js/jquery-3.5.1.min.js"></script>
		<script src="../js/jquery.easing.1.3.js"></script>

	<!--highchart-->
	<script src="../js/highchart/highstock.js"></script>
	<script src="../js/highchart/highcharts-more.js"></script>
	<script src="../js/highchart/data.js"></script>
	<script src="../js/highchart/indicators-all.js"></script>
	<script src="../js/highchart/drag-panes.js"></script>
	<script src="../js/highchart/annotations-advanced.js"></script>
	<script src="../js/highchart/price-indicator.js"></script>
	<script src="../js/highchart/full-screen.js"></script>
	<script src="../js/highchart/heikinashi.js"></script>
	<script src="../js/highchart/hollowcandlestick.js"></script>
	<script src="../js/highchart/accessibility.js"></script>
	<script src="../js/highchart/series-label.js"></script>
	<script src="../js/highchart/exporting.js"></script>
	<script src="../js/highchart/export-data.js"></script>

	<link rel="stylesheet" type="text/css" href="../js/highchart/highchart_popup.css">
	<link rel="stylesheet" type="text/css" href="../js/highchart/highcharts_gui.css">

		<title>큐브메카</title>
	</head>
	<body>
		<style>
			/*sidemenu css*/
			#wholeWrap .sidemenu .sideList li:nth-child(5) a {
				background-color: #054391;
				color: #fff;
			}
			#wholeWrap .sidemenu .sideList li:nth-child(5) .sideIcon {
				background-image: url("../img/icon05_on.png");
			}
		</style>

		<div id="wholeWrap">

			<!---사이드메뉴 바--->
            <div class="sidemenu">
                <h1 class="logo">
                    <a href="../patient/list.html" title="logo">
                        <img src="../img/logo.svg" alt="">
                    </a>
                </h1>
                <ul class="sideList">
                    <li>
                        <a class="dp_f dp_c" href="../patient/list.html" title="환자관리">
                            <span class="sideIcon"><!--아이콘 background 처리--></span>
                            <span>환자관리</span>
                        </a>
                    </li>
                    <li>
                        <a class="dp_f dp_c" href="../careList/list.html" title="진료관리">
                            <span class="sideIcon"><!--아이콘 background 처리--></span>
                            <span>진료관리</span>
                        </a>
                    </li>
                    <li>
                        <a class="dp_f dp_c" href="../medicine/list.html" title="처방관리">
                            <span class="sideIcon"><!--아이콘 background 처리--></span>
                            <span>처방관리</span>
                        </a>
                    </li>
                    <li>
                        <a class="dp_f dp_c" href="../munjinSet/list.html" title="문진관리">
                            <span class="sideIcon"><!--아이콘 background 처리--></span>
                            <span>문진관리</span>
                        </a>
                    </li>
                    <li>
                        <a class="dp_f dp_c" href="../showGraph/list.html" title="통계">
                            <span class="sideIcon"><!--아이콘 background 처리--></span>
                            <span>통계</span>
                        </a>
                    </li>
                    <li>
                        <a class="setBtn dp_f dp_c dp_f dp_cc blue02" href="../setting_manage/list.html" title="설정">
                            설정
                        </a>
                    </li>
                </ul>
            </div>
			<div class="rightCont">
				<!--topNav 바---->
				<div class="topNav dp_f dp_c dp_cc">
					<nav class="dp_sb dp_c">
						<span class="times dp_f dp_c">
							<img src="../img/lnr-clock.png" style="margin-right: 10px;">
							2022-06-17 09:00
						</span>
				
						<div class="admin_chk">
							<div class="dp_f dp_c" style="cursor: pinter;">
								<span class="admin_nm">관리자</span>
								<i class="fas fa-user-circle" style="font-size:2.1em; color: #F1F1F4;"></i>
							</div>
							<div class="admin_drop">
								<a class="dropdown-item" href="">
									<i class="fas fa-sign-out-alt fa-sm fa-fw mr-2 text-gray-400"></i>
									<span>로그아웃</span>
								</a>
							</div>
						</div>
					</nav>
				</div>
				<!---- 내용-->
				<div class="innerCont">
					<div class="inTit dp_f dp_c">
						<h4>통계</h4>
						<span>차트이용통계를 조회하실 수 있습니다.</span>
					</div>
					<div class="chartWrap">
						<div class="chartBox m-36">
							<p class="f20 bold2 titTop">내원객수 / 유형별 통계</p>
							<div class="graphBox">
								<div class="dp_sb">
									<ul class="graphNmTag dp_f dp_c m_60">
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #ffa207;"></div>
											<span>소아</span>
										</li>
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #f86a87;"></div>
											<span>여성</span>
										</li>
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #39a1e8;"></div>
											<span>남성</span>
										</li>
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #75C553;"></div>
											<span>노인</span>
										</li>
									</ul>
									<ul class="kindBox dp_f">
										<li class="on">
											<a class="dp_f dp_c dp_cc nobor" href="" title="">일별</a>
										</li>
										<li>
											<a class="dp_f dp_c dp_cc nobor" href="" title="">주별</a>
										</li>
										<li>
											<a class="dp_f dp_c dp_cc" href="" title="">월별</a>
										</li>
									</ul>
								</div>
								<div id="visitPPL" style="width: 100%; height: 400px; "></div>
								<script>
									Highcharts.chart('visitPPL', {
										chart: {
											type: 'column'
										},
										title: {
											text: ''
										},
										xAxis: {
											categories: ['2/1', '2/2', '2/3', '2/4', '2/5', '2/6', '2/7', '2/8', '2/9'],
											labels: {
												style: {
													fontSize: '13px',
													fontWeight: 'bold',
													color: '#000'
												}
											}
										},
										yAxis: {
											min: 0,
											title: {
												text: ''
											},
											labels: {
												style: {
													fontSize: '13px',
													fontWeight: 'bold',
													color: '#000'
												}
											}
										},
										legend: {
											enabled: false
										},
										exporting: {
											enabled: false
										},
										credits: {
											enabled: false
										},
										tooltip: {
											shared: true,
											formatter: function() {
												var sum = 0;
												$.each(this.points, function(i, point) {
													sum += point.y;
												});

												var s = '<span style="font-size: 13px; font-weight: bold;">' + this.x + '</span>내원객<br/>';
												$.each(this.points, function(i, point) {
													if(point.y !== 0)
													s += '<br/><span style="color:' + point.color + '">\u25CF</span> ' + point.series.name +' : ' + point.y;
												});
												return s;

											}
										},
										plotOptions: {
											column: {
												stacking: 'normal',
												dataLabels: {
													enabled: true,
													distance: -30,
													format: '{y}',
													color: '#fff',
													style: {
														fontSize:'11',
														fontWeight: 'bold',
														textOutline: 'none'
													}
												}
											}
										},
										series: [{
											name: '소아',
											data: [5, 3, 4, 7, 2, 8, 9 , 7, 5],
											color: '#ffa207'
										}, {
											name: '여성',
											data: [2, 2, 3, 2, 1, 8, 9 , 7, 5],
											color: '#f86a87'
										}, {
											name: '남성',
											data: [3, 4, 4, 2, 5, 8, 9 , 7, 5],
											color: '#39a1e8'
										}, {
											name: '노인',
											data: [3, 4, 4, 2, 5, 8, 9 , 7, 5],
											color: '#75C553'
										}]
									});
								</script>
							</div>
						</div>
						<div class="chartBox m-80">
							<p class="f20 bold2 titTop">내원객 성별 및 연령별 통계</p>
							<div class="graphBox">
								<div class="dp_sb">
									<ul class="graphNmTag dp_f dp_c m_60">
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #39a1e8;"></div>
											<span>남성</span>
										</li>
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #f86a87;"></div>
											<span>여성</span>
										</li>
									</ul>
								</div>
								<div id="visitGender" style="width: 100%; height: 400px; "></div>
								<script>
									// Data gathered from http://populationpyramid.net/germany/2015/

									// Age categories
									var categories = [
									'0-4', '5-9', '10-14', '15-19',
									'20-24', '25-29', '30-34', '35-39', '40-44',
									'45-49', '50-54', '55-59', '60-64', '65-69',
									'70-74', '75-79', '80-84', '85-89', '90-94',
									'95-99', '100 + '
									];

									Highcharts.chart('visitGender', {
									chart: {
										type: 'bar'
									},
									title: {
										text: ''
									},
									accessibility: {
										point: {
										valueDescriptionFormat: '{index}. Age {xDescription}, {value}'
										}
									},
									xAxis: [{
										categories: categories,
										reversed: false,
										labels: {
										step: 1,
										style: {
													fontSize: '13px',
													fontWeight: 'bold',
													color: '#000'
												}
										},
										accessibility: {
										description: 'Age (male)'
										},
										
									}, { // mirror axis on right side
										opposite: true,
										reversed: false,
										categories: categories,
										linkedTo: 0,
										labels: {
										step: 1,
										style: {
													fontSize: '13px',
													fontWeight: 'bold',
													color: '#000'
												}
										},
										accessibility: {
										description: 'Age (female)'
										}
									}],
									yAxis: {
										title: {
										text: null
										},
										labels: {
										formatter: function () {
											return Math.abs(this.value);
										},
										style: {
											fontSize: '13px',
											fontWeight: 'bold',
											color: '#000'
										}
										}
									},
									legend: {
										enabled: false
									},
									exporting: {
										enabled: false
									},
									credits: {
										enabled: false
									},
									plotOptions: {
										series: {
										stacking: 'normal'
										}
									},

									tooltip: {
										formatter: function () {
										return '<b style="font-size: 13px;">' + this.series.name + '</b><br/>' +
											Highcharts.numberFormat(Math.abs(this.point.y), 0);
										}
									},

									series: [{
										name: '남성',
										data: [
										-254, -251, -254, -256,
										-258, -270, -275, -280,
										-300, -320, -350, -400,
										-240, -258, -230, -254,
										-260, -260, -230, -0.0,
										-0.0
										],
										color: '#39a1e8'
									}, {
										name: '여성',
										data: [
										251, 240, 251, 230, 260,
										300, 280, 310, 300, 340,
										430, 400, 320, 300, 250,
										258, 254, 140, 260, 220,
										0.0
										],
										color: '#f86a87'
									}]
								});
								</script>
							</div>
						</div>
						<div class="chartBox m-80">
							<p class="f20 bold2 titTop">질병별 처방방식 통계</p>
							<div class="graphBox">
								<div class="dp_sb">
									<ul class="graphNmTag dp_f dp_c m_60">
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #D1D1D1;"></div>
											<span>직접처방</span>
										</li>
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #4f77a9;"></div>
											<span>정인적방</span>
										</li>
										<li class="dp_f dp_c">
											<div class="cir" style="background-color: #043677;"></div>
											<span>기타</span>
										</li>
									</ul>
									<ul class="kindBox dp_f">
										<li class="on">
											<a class="dp_f dp_c dp_cc nobor" href="" title="">금일</a>
										</li>
										<li>
											<a class="dp_f dp_c dp_cc nobor" href="" title="">금주</a>
										</li>
										<li>
											<a class="dp_f dp_c dp_cc nobor" href="" title="">금월</a>
										</li>
										<li>
											<a class="dp_f dp_c dp_cc" href="" title="">금년</a>
										</li>
									</ul>
								</div>
								<div id="disease" style="width: 100%; height: 400px; "></div>
								<script>
									Highcharts.chart('disease', {
										chart: {
											type: 'bar'
										},
										title: {
											text: ''
										},
										xAxis: {
											categories: ['$질환명', '$질환명', '$질환명', '$질환명', '$질환명'],
											labels: {
												style: {
													fontSize: '13px',
													fontWeight: 'bold',
													color: '#000'
												}
											}
										},
										yAxis: {
											min: 0,
											title: {
											text: ''
											},
											labels: {
												style: {
													fontSize: '13px',
													fontWeight: 'bold',
													color: '#000'
												}
											}
										},
										legend: {
											enabled: false
										},
										exporting: {
											enabled: false
										},
										credits: {
											enabled: false
										},
										tooltip: {
											shared: true,
											formatter: function() {
												var sum = 0;
												$.each(this.points, function(i, point) {
													sum += point.y;
												});

												var s = '<span style="font-size: 13px; font-weight: bold;">"' + this.x + '" 총 진료 횟수 '+ sum +' 건</span><br/>';
												$.each(this.points, function(i, point) {
													if(point.y !== 0)
													s += '<br/><span style="color:' + point.color + '">\u25CF</span> ' + point.series.name +' : ' + point.y;
												});
												return s;

											}
										},
										plotOptions: {
											series: {
											stacking: 'normal'
											}
										},
										series: [{
											name: '직접처방',
											data: [5, 3, 4, 7, 2],
											color: '#D1D1D1'
										}, {
											name: '정인적방 처방',
											data: [2, 2, 3, 2, 1],
											color: '#4f77a9 '
										}, {
											name: '프리미엄 처방',
											data: [3, 4, 4, 2, 5],
											color: '#043677 '
										}]
									});
								</script>
							</div>
						</div>
					</div>
					<script>
						//일별주별월별 css 변경
						$(".kindBox > li").on("click",function(event){
							event.preventDefault();
																			
							let tabNumber = $(this).index();
					
							$(this).siblings(".kindBox > li").removeClass("on");
							$(this).addClass("on");
						});
					</script>
				</div>
			</div>
		</div>
		<!---관리자에 mouseenter 하면 로그아웃 버튼 생성--->
		<script>
			$(function(){
				
				$(".admin_chk").on("mouseenter",function(){

					$("#wholeWrap .topNav .admin_drop").stop().fadeIn();

				});
		
				$(".admin_chk").on("mouseleave",function(){

					$("#wholeWrap .topNav .admin_drop").stop().fadeOut();

				});
		
			});
		</script>
	</body>
</html>

